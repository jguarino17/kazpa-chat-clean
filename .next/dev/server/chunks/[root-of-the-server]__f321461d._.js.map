{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///Users/joey/kazpagpt/lib/knowledge.ts"],"sourcesContent":["// lib/knowledge.ts\nimport fs from \"fs\";\nimport path from \"path\";\n\ntype DocChunk = {\n  id: string;\n  file: string;\n  relPath: string;\n  text: string;\n};\n\nconst KNOWLEDGE_DIR = path.join(process.cwd(), \"knowledge\");\n\n// Simple in-memory cache so we don't re-read every request\nlet CACHE: {\n  loadedAt: number;\n  chunks: DocChunk[];\n  canonText: string;\n} | null = null;\n\nfunction safeReadFile(filePath: string) {\n  try {\n    return fs.readFileSync(filePath, \"utf8\");\n  } catch {\n    return \"\";\n  }\n}\n\nfunction listFilesRecursive(dir: string): string[] {\n  const out: string[] = [];\n  const items = fs.existsSync(dir) ? fs.readdirSync(dir, { withFileTypes: true }) : [];\n  for (const item of items) {\n    const full = path.join(dir, item.name);\n\n    // Skip common junk folders\n    if (item.isDirectory()) {\n      if (item.name.startsWith(\".\")) continue;\n      if (item.name === \"node_modules\") continue;\n      if (item.name === \".next\") continue;\n      out.push(...listFilesRecursive(full));\n      continue;\n    }\n\n    // Only index text-like files\n    const lower = item.name.toLowerCase();\n    if (lower.endsWith(\".txt\") || lower.endsWith(\".md\")) out.push(full);\n  }\n  return out;\n}\n\nfunction normalizeText(s: string) {\n  return (s || \"\")\n    .replace(/\\r\\n/g, \"\\n\")\n    .replace(/[ \\t]+\\n/g, \"\\n\")\n    .replace(/\\n{3,}/g, \"\\n\\n\")\n    .trim();\n}\n\n// Chunk by paragraphs with a max character budget.\n// This is intentionally simple and fast.\nfunction chunkText(text: string, maxChars = 1200): string[] {\n  const t = normalizeText(text);\n  if (!t) return [];\n  const paras = t.split(\"\\n\\n\").map((p) => p.trim()).filter(Boolean);\n\n  const chunks: string[] = [];\n  let buf = \"\";\n\n  for (const p of paras) {\n    if (!buf) {\n      buf = p;\n      continue;\n    }\n\n    // If adding this paragraph stays within limit, append\n    if ((buf.length + 2 + p.length) <= maxChars) {\n      buf += \"\\n\\n\" + p;\n      continue;\n    }\n\n    // Otherwise, push current buffer and start new\n    chunks.push(buf);\n    buf = p;\n  }\n\n  if (buf) chunks.push(buf);\n\n  // Also split any chunk that's still huge (rare)\n  const final: string[] = [];\n  for (const c of chunks) {\n    if (c.length <= maxChars * 1.5) {\n      final.push(c);\n    } else {\n      // Hard split\n      for (let i = 0; i < c.length; i += maxChars) {\n        final.push(c.slice(i, i + maxChars));\n      }\n    }\n  }\n\n  return final;\n}\n\nfunction tokenize(q: string): string[] {\n  return normalizeText(q)\n    .toLowerCase()\n    .replace(/[^a-z0-9\\s]/g, \" \")\n    .split(/\\s+/)\n    .filter(Boolean)\n    .filter((w) => w.length >= 3)\n    .slice(0, 60);\n}\n\nfunction scoreChunk(queryTokens: string[], chunkText: string): number {\n  const hay = chunkText.toLowerCase();\n\n  let score = 0;\n  for (const tok of queryTokens) {\n    // quick containment check\n    if (hay.includes(tok)) score += 1;\n  }\n\n  // Boost for very important terms\n  const boosts = [\"mt5\", \"mql5\", \"experts\", \"advisors\", \"autotrading\", \"vistax\", \"vistaone\", \"vista\", \"vps\", \"license\"];\n  for (const b of boosts) {\n    if (queryTokens.includes(b) && hay.includes(b)) score += 2;\n  }\n\n  return score;\n}\n\nfunction loadKnowledgeCache(): { chunks: DocChunk[]; canonText: string } {\n  const now = Date.now();\n\n  // Refresh cache every 60 seconds in dev\n  if (CACHE && (now - CACHE.loadedAt) < 60_000) return CACHE;\n\n  const allFiles = listFilesRecursive(KNOWLEDGE_DIR);\n\n  // Canon bundle: keep separate and always include in system prompt\n  const canonDir = path.join(KNOWLEDGE_DIR, \"canon\");\n  const canonFiles = fs.existsSync(canonDir)\n    ? listFilesRecursive(canonDir).filter((f) => f.toLowerCase().endsWith(\".md\") || f.toLowerCase().endsWith(\".txt\"))\n    : [];\n\n  const canonParts: string[] = [];\n  for (const f of canonFiles) {\n    const rel = path.relative(KNOWLEDGE_DIR, f);\n    const txt = normalizeText(safeReadFile(f));\n    if (txt) canonParts.push(`## ${rel}\\n${txt}`);\n  }\n  const canonText = canonParts.join(\"\\n\\n\").trim();\n\n  // Index chunks from everything else (including raw)\n  const chunks: DocChunk[] = [];\n  for (const filePath of allFiles) {\n    const relPath = path.relative(KNOWLEDGE_DIR, filePath);\n\n    // Skip canon files from chunk index (canon is injected separately)\n    if (relPath.startsWith(\"canon\" + path.sep) || relPath.startsWith(\"canon/\")) continue;\n\n    const fileText = normalizeText(safeReadFile(filePath));\n    if (!fileText) continue;\n\n    const pieces = chunkText(fileText, 1200);\n    pieces.forEach((piece, idx) => {\n      chunks.push({\n        id: `${relPath}::${idx}`,\n        file: path.basename(filePath),\n        relPath,\n        text: piece,\n      });\n    });\n  }\n\n  CACHE = { loadedAt: now, chunks, canonText };\n  return CACHE;\n}\n\n// ✅ Used by route.ts: inject into system prompt\nexport function getCanonBundle(): string {\n  const { canonText } = loadKnowledgeCache();\n  return canonText || \"(canon not found)\";\n}\n\n// ✅ Used by route.ts: retrieve relevant snippets for a query\nexport function retrieveKnowledge(query: string, opts?: { maxChunks?: number }): string {\n  const maxChunks = opts?.maxChunks ?? 6;\n  const { chunks } = loadKnowledgeCache();\n\n  const qTokens = tokenize(query);\n  if (qTokens.length === 0) return \"\";\n\n  const scored = chunks\n    .map((c) => ({ c, s: scoreChunk(qTokens, c.text) }))\n    .filter((x) => x.s > 0)\n    .sort((a, b) => b.s - a.s)\n    .slice(0, maxChunks);\n\n  if (scored.length === 0) return \"\";\n\n  // Return labeled snippets so the model stays grounded\n  return scored\n    .map(({ c }) => {\n      return `SOURCE: ${c.relPath}\\n${c.text}`;\n    })\n    .join(\"\\n\\n---\\n\\n\");\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 231, "column": 0}, "map": {"version":3,"sources":["file:///Users/joey/kazpagpt/app/api/chat/route.ts"],"sourcesContent":["// app/api/chat/route.ts\nimport OpenAI from \"openai\";\nimport { NextResponse } from \"next/server\";\nimport { getCanonBundle, retrieveKnowledge } from \"@/lib/knowledge\";\n\nconst client = new OpenAI({\n  apiKey: process.env.OPENAI_API_KEY,\n});\n\ntype ChatMessage = {\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n};\n\nexport async function POST(req: Request) {\n  try {\n    const body = await req.json().catch(() => ({}));\n\n    // ✅ Support BOTH:\n    // - body.messages: full chat history from the UI (recommended)\n    // - body.message: single message fallback (old behavior)\n    const messagesFromClient: ChatMessage[] = Array.isArray(body?.messages)\n      ? body.messages\n      : [];\n\n    const singleMessage = String(body?.message ?? \"\").trim();\n\n    const chat: ChatMessage[] =\n      messagesFromClient.length > 0\n        ? messagesFromClient\n        : singleMessage\n        ? [{ role: \"user\", content: singleMessage }]\n        : [];\n\n    // ✅ Safer last user message (must be non-empty)\n    const lastUserMessage =\n      [...chat]\n        .reverse()\n        .find((m) => m.role === \"user\" && String(m.content || \"\").trim())\n        ?.content?.trim() || \"\";\n\n    if (!lastUserMessage) {\n      return NextResponse.json({ reply: \"Ask a question and I’ll help.\" });\n    }\n\n    // Pull canonical + retrieval snippets from /knowledge\n    const canon = getCanonBundle();\n    const retrieved = retrieveKnowledge(lastUserMessage);\n\n    // System prompt (locked response pattern + verbosity limiter)\n    const system = `\nYou are kazpaGPT — the official AI educator, qualifier, and support assistant for kazpa.io.\n\nNON-NEGOTIABLE BRAND RULES\n- Always write “kazpa” in lowercase\n- MT5 only (never MT4)\n- NEVER use the words: bot, bots, signals, guaranteed, easy money, passive income, get rich quick\n- Use: software, system, trading software, automation, execution software\n- Tone: calm, confident, precise, professional\n- Style: structured answers, no emojis, no hype\n\nCORE TRUTH (ALWAYS CLEAR)\n- kazpa licenses trading software only\n- kazpa does NOT manage funds\n- kazpa does NOT provide financial or investment advice\n- Users control broker, capital, risk settings, and when software runs\n- Trading is high risk and losses are possible\n- Past performance does not guarantee future results\n\nCANONICAL RESPONSE PATTERN (LOCKED)\n1) Direct answer in 1–2 sentences.\n2) Then 3–6 bullets maximum (or a numbered list if it’s a procedure).\n3) End with ONE of the following:\n   - one next step, OR\n   - one short question\n   (Never both.)\n\nINTERNAL VERBOSITY LIMITER (HARD RULE)\n- Default: 6–10 lines total.\n- If user asks “why”: up to 10–14 lines total.\n- If user asks for step-by-step: max 6 steps.\n- Never write long essays unless the user explicitly asks for “full detail”.\n\nCONTINUATION RULE (FIXES “SURE”)\n- If the user replies with a short confirmation like “sure / yes / ok” after you offered to guide them, DO NOT restart.\n- Continue the exact steps you offered, using the prior assistant message as context.\n- If the user’s message is too ambiguous to continue safely, ask ONE clarifying question only.\n\nHOW TO ANSWER (HONESTY)\n- Use ONLY the knowledge provided below + what the user says in this chat.\n- If something isn’t confirmed, say: “That isn’t confirmed in kazpa’s official info I have available here.”\n- Then suggest the safest next step (demo test, check docs, contact support).\n\nWHEN TO LINK / APPLY\n- Only after educating and confirming fit, mention applying once:\n  “If this aligns with how you think about trading and risk, the next step is to apply: https://kazpa.io/apply”\n\nSECURITY\n- Never ask for passwords, API keys, broker credentials, or license keys.\n- For account-specific licensing/billing/DFY issues, redirect to official support.\n\n========================\nCANONICAL KAZPA KNOWLEDGE\n========================\n${canon}\n\n========================\nRETRIEVED KNOWLEDGE (MOST RELEVANT)\n========================\n${retrieved || \"(none found)\"}\n`.trim();\n\n    // Build model input: system + chat history (strip any client system messages)\n    const modelInput: ChatMessage[] = [\n      { role: \"system\", content: system },\n      ...chat\n        .filter((m) => m.role !== \"system\")\n        .map((m) => ({\n          role: m.role,\n          content: String(m.content ?? \"\"),\n        })),\n    ];\n\n    const resp = await client.responses.create({\n      model: \"gpt-4.1-mini\",\n      input: modelInput as any,\n    });\n\n    const reply =\n      (resp.output_text && resp.output_text.trim()) ||\n      \"I couldn’t generate a reply. Try again.\";\n\n    return NextResponse.json({ reply });\n  } catch (err: any) {\n    console.log(\"OPENAI ERROR:\", err?.message || err);\n    console.log(\"OPENAI ERROR DETAILS:\", err?.response?.data || err);\n\n    const msg = String(err?.message || \"\");\n    const isQuota =\n      msg.includes(\"quota\") ||\n      msg.includes(\"insufficient_quota\") ||\n      String(err?.status) === \"429\";\n\n    return NextResponse.json(\n      {\n        reply: isQuota\n          ? \"AI connection error: your OpenAI account is out of quota/credits. Add billing/credits, then try again.\"\n          : \"AI connection error. Check Terminal for the exact error (OPENAI ERROR).\",\n      },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA,wBAAwB;AACxB;AAAA;AACA;AACA;;;;AAEA,MAAM,SAAS,IAAI,mLAAM,CAAC;IACxB,QAAQ,QAAQ,GAAG,CAAC,cAAc;AACpC;AAOO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,OAAO,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC,CAAC,CAAC;QAE7C,kBAAkB;QAClB,+DAA+D;QAC/D,yDAAyD;QACzD,MAAM,qBAAoC,MAAM,OAAO,CAAC,MAAM,YAC1D,KAAK,QAAQ,GACb,EAAE;QAEN,MAAM,gBAAgB,OAAO,MAAM,WAAW,IAAI,IAAI;QAEtD,MAAM,OACJ,mBAAmB,MAAM,GAAG,IACxB,qBACA,gBACA;YAAC;gBAAE,MAAM;gBAAQ,SAAS;YAAc;SAAE,GAC1C,EAAE;QAER,gDAAgD;QAChD,MAAM,kBACJ;eAAI;SAAK,CACN,OAAO,GACP,IAAI,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,UAAU,OAAO,EAAE,OAAO,IAAI,IAAI,IAAI,KAC5D,SAAS,UAAU;QAEzB,IAAI,CAAC,iBAAiB;YACpB,OAAO,gJAAY,CAAC,IAAI,CAAC;gBAAE,OAAO;YAAgC;QACpE;QAEA,sDAAsD;QACtD,MAAM,QAAQ,IAAA,oIAAc;QAC5B,MAAM,YAAY,IAAA,uIAAiB,EAAC;QAEpC,8DAA8D;QAC9D,MAAM,SAAS,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDpB,EAAE,MAAM;;;;;AAKR,EAAE,aAAa,eAAe;AAC9B,CAAC,CAAC,IAAI;QAEF,8EAA8E;QAC9E,MAAM,aAA4B;YAChC;gBAAE,MAAM;gBAAU,SAAS;YAAO;eAC/B,KACA,MAAM,CAAC,CAAC,IAAM,EAAE,IAAI,KAAK,UACzB,GAAG,CAAC,CAAC,IAAM,CAAC;oBACX,MAAM,EAAE,IAAI;oBACZ,SAAS,OAAO,EAAE,OAAO,IAAI;gBAC/B,CAAC;SACJ;QAED,MAAM,OAAO,MAAM,OAAO,SAAS,CAAC,MAAM,CAAC;YACzC,OAAO;YACP,OAAO;QACT;QAEA,MAAM,QACJ,AAAC,KAAK,WAAW,IAAI,KAAK,WAAW,CAAC,IAAI,MAC1C;QAEF,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAM;IACnC,EAAE,OAAO,KAAU;QACjB,QAAQ,GAAG,CAAC,iBAAiB,KAAK,WAAW;QAC7C,QAAQ,GAAG,CAAC,yBAAyB,KAAK,UAAU,QAAQ;QAE5D,MAAM,MAAM,OAAO,KAAK,WAAW;QACnC,MAAM,UACJ,IAAI,QAAQ,CAAC,YACb,IAAI,QAAQ,CAAC,yBACb,OAAO,KAAK,YAAY;QAE1B,OAAO,gJAAY,CAAC,IAAI,CACtB;YACE,OAAO,UACH,2GACA;QACN,GACA;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}